{"ast":null,"code":"var _jsxFileName = \"/home/thispc/Documents/TTS/app-react-1/font-end/src/components/helpers/ModalsFile.jsx\";\nimport React, { Component } from 'react';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Input, Button } from 'reactstrap';\nimport { connect } from 'react-redux';\nimport * as actions from './../../actions/index';\n\nclass ModalsFile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handeleFileChosen = e => {\n      let reader = new FileReader();\n      let file = e.target.files[0];\n      e.preventDefault();\n\n      reader.onloadend = () => {\n        this.setState({\n          fileimages: file,\n          imagePreviewUrl: reader.result\n        });\n      };\n\n      if (file) reader.readAsDataURL(file);\n    };\n\n    this.handleSubmit = e => {\n      let formData = new FormData();\n      formData.append('file', this.state.fileimages, this.state.fileimages.name);\n      formData.append('temp', this.props.temp); // formData.append('imagePreviewUrl',this.state.imagePreviewUrl);\n\n      this.props.handleSubmit(formData, this.props.url, this.state.imagePreviewUrl);\n    };\n\n    this.state = {\n      fileimages: 0,\n      imagePreviewUrl: 0\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      isOpen: this.props.isOpen,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(ModalHeader, {\n      toggle: this.toggleModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, this.props.title), React.createElement(ModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"file\",\n      onChange: this.handeleFileChosen,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    })), React.createElement(ModalFooter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"primary\",\n      onClick: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Upload\"), React.createElement(Button, {\n      color: \"danger\",\n      onClick: this.props.isToggleModalsFile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"H\\u1EE7y\"))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    isOpen: state.modalsFile.status,\n    title: state.modalsFile.title,\n    url: state.modalsFile.url,\n    temp: state.modalsFile.temp\n  };\n};\n\nconst mapDispatchToProps = (dispatch, props) => {\n  return {\n    isToggleModalsFile: () => {\n      dispatch(actions.modalsFile());\n    },\n    handleSubmit: (formData, url, imagePreviewUrl) => {\n      dispatch(actions.callApiUpload(formData, url, imagePreviewUrl));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalsFile);","map":{"version":3,"sources":["/home/thispc/Documents/TTS/app-react-1/font-end/src/components/helpers/ModalsFile.jsx"],"names":["React","Component","Modal","ModalHeader","ModalBody","ModalFooter","Input","Button","connect","actions","ModalsFile","constructor","props","handeleFileChosen","e","reader","FileReader","file","target","files","preventDefault","onloadend","setState","fileimages","imagePreviewUrl","result","readAsDataURL","handleSubmit","formData","FormData","append","state","name","temp","url","render","isOpen","toggleModal","title","isToggleModalsFile","mapStateToProps","modalsFile","status","mapDispatchToProps","dispatch","callApiUpload"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {Modal, ModalHeader, ModalBody, ModalFooter,Input,Button } from 'reactstrap';\nimport { connect } from 'react-redux';\nimport * as actions from './../../actions/index';\n\n\nclass ModalsFile extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            fileimages : 0,\n            imagePreviewUrl : 0,\n        }\n    }\n\n    handeleFileChosen = (e) => {\n        let reader = new FileReader();\n        let file = e.target.files[0];\n        \n        e.preventDefault();\n        reader.onloadend = () => {\n            this.setState({\n                fileimages: file,\n                imagePreviewUrl:  reader.result\n            });\n          }\n      \n        if(file) reader.readAsDataURL(file);\n    }\n\n    handleSubmit = (e) => {\n        let formData = new FormData();\n        formData.append('file', this.state.fileimages, this.state.fileimages.name)\n        formData.append('temp',this.props.temp);\n        // formData.append('imagePreviewUrl',this.state.imagePreviewUrl);\n        \n        this.props.handleSubmit(formData,this.props.url,this.state.imagePreviewUrl);\n    }\n\n    render() {\n        return (\n            <div>\n                <Modal isOpen={this.props.isOpen}>\n                    <ModalHeader toggle={this.toggleModal}>{this.props.title}</ModalHeader>\n                    <ModalBody>\n                      <Input type=\"file\" onChange={this.handeleFileChosen}></Input>\n                    </ModalBody>\n                    <ModalFooter>\n                        <Button color=\"primary\" onClick={this.handleSubmit}>Upload</Button>\n                        <Button color=\"danger\" onClick={this.props.isToggleModalsFile}>Há»§y</Button>\n                    </ModalFooter>\n                </Modal>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        isOpen : state.modalsFile.status,\n        title : state.modalsFile.title,\n        url : state.modalsFile.url,\n        temp : state.modalsFile.temp,\n    }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        isToggleModalsFile : ()=>{\n            dispatch(actions.modalsFile())\n        },\n        handleSubmit : (formData,url,imagePreviewUrl)=>{\n            dispatch(actions.callApiUpload(formData,url,imagePreviewUrl));\n        }\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalsFile);\n"]},"metadata":{},"sourceType":"module"}