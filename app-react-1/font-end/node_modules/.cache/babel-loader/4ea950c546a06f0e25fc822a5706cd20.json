{"ast":null,"code":"import { takeLatest, call, put } from 'redux-saga/effects';\nimport axios from 'axios';\nimport config from \"./../config/index\";\n\nfunction uploadApi(data, url) {\n  return axios({\n    method: \"POST\",\n    url: \"\".concat(config.baseUrl, \"/api/\").concat(url),\n    data: data\n  });\n}\n\nfunction* signupFlow(action) {\n  const _action$data = action.data,\n        formData = _action$data.formData,\n        url = _action$data.url,\n        imagePreviewUrl = _action$data.imagePreviewUrl;\n\n  try {\n    const response = yield call(uploadApi, formData, url);\n    const data = response.data;\n    console.log(data);\n    yield put({\n      type: \"UPLOAD_SUCCESS\",\n      data\n    });\n  } catch (error) {\n    yield put({\n      type: \"UPLOAD_ERROR\",\n      error\n    });\n  }\n}\n\nexport function* watchUpload() {\n  yield takeLatest(\"CALL_API_UPLOAD\", signupFlow);\n}","map":{"version":3,"sources":["/home/thispc/Documents/TTS/app-react-1/font-end/src/sagas/callAPIUpload.js"],"names":["takeLatest","call","put","axios","config","uploadApi","data","url","method","baseUrl","signupFlow","action","formData","imagePreviewUrl","response","console","log","type","error","watchUpload"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,IAArB,EAA2BC,GAA3B,QAAsC,oBAAtC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;;AAEA,SAASC,SAAT,CAAmBC,IAAnB,EAAwBC,GAAxB,EAA4B;AAC1B,SAAOJ,KAAK,CAAC;AACXK,IAAAA,MAAM,EAAE,MADG;AAEXD,IAAAA,GAAG,YAAKH,MAAM,CAACK,OAAZ,kBAA2BF,GAA3B,CAFQ;AAGXD,IAAAA,IAAI,EAAGA;AAHI,GAAD,CAAZ;AAKD;;AAED,UAAUI,UAAV,CAAqBC,MAArB,EAA4B;AAAA,uBACiBA,MAAM,CAACL,IADxB;AAAA,QAClBM,QADkB,gBAClBA,QADkB;AAAA,QACRL,GADQ,gBACRA,GADQ;AAAA,QACHM,eADG,gBACHA,eADG;;AAE1B,MAAI;AACF,UAAMC,QAAQ,GAAG,MAAMb,IAAI,CAACI,SAAD,EAAWO,QAAX,EAAoBL,GAApB,CAA3B;AACA,UAAMD,IAAI,GAAGQ,QAAQ,CAACR,IAAtB;AACAS,IAAAA,OAAO,CAACC,GAAR,CAAYV,IAAZ;AACA,UAAMJ,GAAG,CAAC;AAAEe,MAAAA,IAAI,EAAE,gBAAR;AAA0BX,MAAAA;AAA1B,KAAD,CAAT;AACD,GALD,CAKE,OAAMY,KAAN,EAAY;AACZ,UAAMhB,GAAG,CAAC;AAAEe,MAAAA,IAAI,EAAE,cAAR;AAAwBC,MAAAA;AAAxB,KAAD,CAAT;AACD;AACF;;AAED,OAAO,UAAUC,WAAV,GAAwB;AAC7B,QAAMnB,UAAU,CAAC,iBAAD,EAAoBU,UAApB,CAAhB;AACD","sourcesContent":["import { takeLatest, call, put } from 'redux-saga/effects'\nimport axios from 'axios';\nimport config from \"./../config/index\"\n\nfunction uploadApi(data,url){\n  return axios({\n    method: \"POST\",\n    url: `${config.baseUrl}/api/${url}`,\n    data : data\n  });\n}\n\nfunction* signupFlow(action){\n  const { formData, url, imagePreviewUrl } = action.data\n  try {\n    const response = yield call(uploadApi,formData,url); \n    const data = response.data;\n    console.log(data)\n    yield put({ type: \"UPLOAD_SUCCESS\", data })\n  } catch(error){\n    yield put({ type: \"UPLOAD_ERROR\", error })\n  }\n}\n\nexport function* watchUpload() {\n  yield takeLatest(\"CALL_API_UPLOAD\", signupFlow);\n}\n"]},"metadata":{},"sourceType":"module"}